<?xml version="1.0" encoding="UTF-8"?>
<svg width="900" height="700" viewBox="0 0 900 700" xmlns="http://www.w3.org/2000/svg">
  <style>
    .box {
      fill: #f0f5ff;
      stroke: #3366cc;
      stroke-width: 2;
      rx: 10;
      ry: 10;
    }
    .process-box {
      fill: #fffaf0;
      stroke: #ff6600;
      stroke-width: 2;
      rx: 10;
      ry: 10;
    }
    .data-box {
      fill: #f0fff0;
      stroke: #009900;
      stroke-width: 2;
      rx: 10;
      ry: 10;
    }
    .output-box {
      fill: #fff0f5;
      stroke: #cc3366;
      stroke-width: 2;
      rx: 10;
      ry: 10;
    }
    .user-box {
      fill: #f5f0ff;
      stroke: #6633cc;
      stroke-width: 2;
      rx: 10;
      ry: 10;
    }
    .title {
      font-family: Arial, sans-serif;
      font-size: 24px;
      font-weight: bold;
      text-anchor: middle;
    }
    .subtitle {
      font-family: Arial, sans-serif;
      font-size: 16px;
      text-anchor: middle;
      fill: #333333;
    }
    .label {
      font-family: Arial, sans-serif;
      font-size: 14px;
      font-weight: bold;
      text-anchor: middle;
    }
    .detail {
      font-family: Arial, sans-serif;
      font-size: 12px;
      text-anchor: middle;
    }
    .arrow {
      stroke: #666666;
      stroke-width: 2;
      marker-end: url(#arrowhead);
    }
    .dashed-arrow {
      stroke: #666666;
      stroke-width: 2;
      stroke-dasharray: 5,5;
      marker-end: url(#arrowhead);
    }
    .bold-arrow {
      stroke: #333333;
      stroke-width: 3;
      marker-end: url(#boldarrowhead);
    }
  </style>
  
  <!-- Arrow marker definitions -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#666666" />
    </marker>
    <marker id="boldarrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#333333" />
    </marker>
  </defs>
  
  <!-- Title and Subtitle -->
  <text x="450" y="30" class="title">Sand Mining Detection Framework</text>
  <text x="450" y="55" class="subtitle">Multi-sensor Integration with Historical Analysis and Machine Learning</text>
  
  <!-- Data Input Section -->
  <rect x="50" y="100" width="160" height="100" class="data-box" />
  <text x="130" y="125" class="label">Input Data</text>
  <text x="130" y="145" class="detail">River Shapefiles</text>
  <text x="130" y="165" class="detail">GIS Data</text>
  <text x="130" y="185" class="detail">Configuration</text>
  
  <!-- Satellite Imagery Section -->
  <rect x="250" y="100" width="180" height="100" class="data-box" />
  <text x="340" y="125" class="label">Satellite Imagery</text>
  <text x="340" y="145" class="detail">Sentinel-2 (10m)</text>
  <text x="340" y="165" class="detail">Landsat 4-9 (30m)</text>
  <text x="340" y="185" class="detail">VIIRS (375-750m)</text>
  
  <!-- Historical Data Section -->
  <rect x="470" y="100" width="180" height="100" class="data-box" />
  <text x="560" y="125" class="label">Historical Archive</text>
  <text x="560" y="145" class="detail">40+ Years Landsat</text>
  <text x="560" y="165" class="detail">7+ Years Sentinel-2</text>
  <text x="560" y="185" class="detail">10+ Years VIIRS</text>
  
  <!-- Training Data Generation -->
  <rect x="150" y="250" width="180" height="80" class="process-box" />
  <text x="240" y="275" class="label">Sample Generation</text>
  <text x="240" y="295" class="detail">Point Sampling Along River</text>
  <text x="240" y="315" class="detail">Buffered Image Extraction</text>
  
  <!-- User Labeling -->
  <rect x="150" y="370" width="180" height="90" class="user-box" />
  <text x="240" y="395" class="label">Manual Labeling</text>
  <text x="240" y="415" class="detail">GUI Interface</text>
  <text x="240" y="435" class="detail">Sand Mining vs Natural</text>
  <text x="240" y="455" class="detail">Human Expertise</text>
  
  <!-- Feature Extraction -->
  <rect x="150" y="500" width="180" height="110" class="process-box" />
  <text x="240" y="525" class="label">Feature Extraction</text>
  <text x="240" y="545" class="detail">Spectral Indices (NDVI, NDWI)</text>
  <text x="240" y="565" class="detail">Texture Analysis (GLCM)</text>
  <text x="240" y="585" class="detail">Color Distribution</text>
  <text x="240" y="605" class="detail">Historical Change Metrics</text>
  
  <!-- Imagery Processing Pipeline -->
  <rect x="400" y="250" width="180" height="360" class="process-box" />
  <text x="490" y="275" class="label">Image Processing</text>
  
  <!-- Sub-components of Image Processing -->
  <rect x="410" y="295" width="160" height="60" class="box" />
  <text x="490" y="320" class="detail">Multi-temporal Collection</text>
  <text x="490" y="340" class="detail">Cloud Filtering</text>
  
  <rect x="410" y="365" width="160" height="60" class="box" />
  <text x="490" y="390" class="detail">Spectral Enhancement</text>
  <text x="490" y="410" class="detail">Indices Calculation</text>
  
  <rect x="410" y="435" width="160" height="60" class="box" />
  <text x="490" y="460" class="detail">Historical Trend Analysis</text>
  <text x="490" y="480" class="detail">Change Detection</text>
  
  <rect x="410" y="505" width="160" height="60" class="box" />
  <text x="490" y="530" class="detail">Feature Computation</text>
  <text x="490" y="550" class="detail">Time-series Statistics</text>
  
  <!-- ML Model Training -->
  <rect x="150" y="650" width="180" height="80" class="process-box" />
  <text x="240" y="675" class="label">Model Training</text>
  <text x="240" y="695" class="detail">Random Forest / GBT</text>
  <text x="240" y="715" class="detail">Feature Importance Analysis</text>
  
  <!-- Prediction and Mapping -->
  <rect x="650" y="250" width="180" height="180" class="process-box" />
  <text x="740" y="275" class="label">Probability Mapping</text>
  <text x="740" y="295" class="detail">Point-by-point Analysis</text>
  <text x="740" y="315" class="detail">Probability Calculation</text>
  <text x="740" y="335" class="detail">Risk Classification</text>
  <text x="740" y="355" class="detail">Historical Change Tracking</text>
  <text x="740" y="375" class="detail">Feature Importance</text>
  <text x="740" y="395" class="detail">Spatial Clustering</text>
  <text x="740" y="415" class="detail">Interactive Visualization</text>
  
  <!-- Outputs -->
  <rect x="650" y="470" width="180" height="200" class="output-box" />
  <text x="740" y="495" class="label">Analysis Outputs</text>
  <text x="740" y="520" class="detail">Interactive Maps</text>
  <text x="740" y="540" class="detail">Probability Heatmaps</text>
  <text x="740" y="560" class="detail">Classification Clusters</text>
  <text x="740" y="580" class="detail">Risk Assessment Reports</text>
  <text x="740" y="600" class="detail">Time-series Charts</text>
  <text x="740" y="620" class="detail">Feature Importance Plots</text>
  <text x="740" y="640" class="detail">Monitoring Dashboards</text>
  
  <!-- Connections -->
  <!-- Data Input to Sample Generation -->
  <line x1="130" y1="200" x2="200" y2="250" class="arrow" />
  
  <!-- Satellite Imagery to Sample Generation -->
  <line x1="310" y1="200" x2="240" y2="250" class="arrow" />
  
  <!-- Satellite Imagery to Image Processing -->
  <line x1="340" y1="200" x2="450" y2="250" class="arrow" />
  
  <!-- Historical Archive to Image Processing -->
  <line x1="560" y1="200" x2="490" y2="250" class="arrow" />
  
  <!-- Sample Generation to Manual Labeling -->
  <line x1="240" y1="330" x2="240" y2="370" class="bold-arrow" />
  
  <!-- Manual Labeling to Feature Extraction -->
  <line x1="240" y1="460" x2="240" y2="500" class="bold-arrow" />
  
  <!-- Image Processing to Feature Extraction -->
  <line x1="400" y1="550" x2="330" y2="550" class="arrow" />
  
  <!-- Feature Extraction to Model Training -->
  <line x1="240" y1="610" x2="240" y2="650" class="bold-arrow" />
  
  <!-- Model Training to Probability Mapping -->
  <line x1="330" y1="690" x2="650" y2="340" class="dashed-arrow" />
  
  <!-- Image Processing to Probability Mapping -->
  <line x1="580" y1="400" x2="650" y2="350" class="arrow" />
  
  <!-- Probability Mapping to Outputs -->
  <line x1="740" y1="430" x2="740" y2="470" class="bold-arrow" />
  
  <!-- Explanatory Notes -->
  <text x="80" y="650" class="detail" text-anchor="start">Training Pipeline</text>
  <text x="650" y="685" class="detail" text-anchor="start">Inference Pipeline</text>
</svg>